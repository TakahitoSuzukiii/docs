概要
セキュア製品設計の目的は、すべての製品が開発ライフサイクルの一環として組織によって定められたセキュリティ要件を満たすか、それを上回ることを確認し、開発中の製品に関するすべてのセキュリティ上の決定が明示的な選択肢であり、開発中の製品の適切なセキュリティレベルにつながるようにすることです。

方法論
基本的なスタートとして、セキュアなデフォルトを確立し、攻撃対象面を最小限に抑え、それらをよく定義され理解されたデフォルトに安全に失敗することが重要です。

セキュア製品設計は、次の2つのプロセスを通じて行われます：

製品発案
製品設計
最初のプロセスは、製品が考案されるとき、または既存の製品が再発明されるときに発生します。後者は継続的で進化的であり、コードが書かれている場所に近い場所でアジャイルに行われます。
セキュリティ原則

最小特権の原則と職務の分離
最小特権は、ユーザーにその仕事を実行するために必要な最小限のアクセスのみを与えるべきであるというセキュリティ原則です。これは、ユーザーに彼らが行う仕事に必要なリソースのみを与え、それ以上のものを与えないということを意味します。これにより、ユーザーが必要なリソースにのみアクセスできるため、機密データやシステムへの不正アクセスのリスクが低減されます。最小特権は、組織のデータとシステムのセキュリティを確保するために遵守すべき重要なセキュリティ原則です。
職務の分離は、ビジネスや組織の内部統制の基本原則です。これは、1人の個人がトランザクションのすべての側面をコントロールしていないことを確認するためのチェックとバランスのシステムです。これは、異なる人々に異なるタスクを割り当てることによって行われ、1人がプロセス全体を制御することがないようにします。これにより、不正やエラーのリスクが低減され、すべてのタスクが適切な時間内に完了されることが保証されます。職務の分離は、どの組織の内部統制システムの重要な部分であり、組織の財務記録の整合性を維持するために不可欠です。

深層防御の原則
深層防御の原則は、組織の資産を保護するために複数のセキュリティコントロールのレイヤーを使用するセキュリティ戦略です。1つのセキュリティレイヤーが失敗した場合でも、他のレイヤーが資産を保護できるという考えに基づいています。セキュリティのレイヤーには、物理セキュリティ、ネットワークセキュリティ、アプリケーションセキュリティ、およびデータセキュリティが含まれます。深層防御の目標は、攻撃に耐性があり、セキュリティインシデントを迅速に検出および対応できる安全な環境を作成することです。複数のセキュリティレイヤーを実装することで、組織は成功した攻撃のリスクを低減し、成功した攻撃による被害を最小限に抑えることができます。

ゼロトラストの原則
ゼロトラストは、すべてのユーザー、デバイス、およびネットワークが信頼できないと想定し、アクセスが許可される前に検証するセキュリティモデルです。これは、組織がネットワーク内にあっても、任意のユーザー、デバイス、またはネットワークを信頼すべきではないという考えに基づいています。代わりに、すべてのアクセス要求は認証および承認される必要があります。ゼロトラストは、認可されたユーザーのみが機密データにアクセスできることを確認するために、組織がユーザーのアクティビティを継続的に監視および監査することも求めます。このモデルは、認可されたユーザーのみが機密データにアクセスできることを確認することにより、データ漏洩やその他のセキュリティインシデントのリスクを低減するよう設計されています。

オープンでのセキュリティの原則
セキュリティオープンは、オープンソースソフトウェア開発におけるセキュリティの重要性を強調する概念です。これは、開発者がコードのセキュリティの影響を認識し、そのコードがセキュリティであることを確認するための手順を踏む必要があるという必要性に焦点を当てています。これには、セキュアなコーディングプラクティスの使用、脆弱性のテスト、およびセキュアな開発ツールの使用が含まれます。セキュリティオープンは、開発者がコードがセキュリティであることを確認するためにセキュリティ専門家と協力することを奨励しています。

セキュリティの焦点領域

コンテキスト
この検討対象のアプリケーションが組織のエコシステム内でどこに位置するか、どの部門がそれを使用し、なぜ使用するのか、またどのようなデータを含む可能性があり、その結果、リスクプロファイルがどのようになるかを確認します。
アプリケーションのセキュリティコンテキストを構築するために使用されるプロセスには、スレットモデリング（製品配信の各イテレーションでセキュリティ関連のストーリーが追加される）とビジネスインパクトアセスメントの実行が含まれます。- 製品発案中の特定の製品の適切な製品セキュリティレベルの設定結果です。

コンテキストが非常に重要である理由は、セキュリティのために過剰に設計することが、スケールやパフォーマンスのために過剰に設計するよりもさらに大きなコストの影響を与える可能性があるが、過小設計は破壊的な結果をもたらす可能性があるためです。

コンポーネント
アプリケーションで使用されているライブラリ（製品設計段階で選択される）から、それが利用する外部サービス（製品発案中に変更される可能性がある）まで、このアプリケーションを構成するものは何であり、それらの部分はどのように安全に保たれていますか？これを行うためには、ゴールデンパス/ペイブドロードのドキュメントで定義されたセキュアな設計パターンおよび使用可能なコンポーネントのライブラリを利用し、それらの選択肢をスレットモデリングを通じて分析します。
このコンポーネントレビューの一部は、適切なコンポーネントの選択（ライセンスとメンテナンス）のより商業的な側面、および必要に応じて必要な使用制限も含まれる必要があります。

接続
このアプリケーションとどのようにやり取りし、前述のコンポーネントとサービスにどのように接続されているか？データはどこに保存され、どのようにアクセスされますか？接続は、意図的な接続の欠如についても説明できます。必要な製品セキュリティレベルに応じて必要な場合は、隔離されたティアの隔離や、異なるテナントのために必要な場合はデータまたは全体の環境の隔離について考えてください。
接続の追加（または削除）は、製品発案が進行中である可能性があることを示しています。

コード
コードは製品の意図の究極の表現であり、そのためにまず機能しなければなりません。ただし、その機能が提供される方法には、その期待を満たすまたは上回る品質が必要です。
セキュアなコーディングの基本は次のとおりです：

入力の検証：すべての入力データが処理される前に、それが有効であり、期待されるタイプ、形式、および長さであることを検証します。これにより、SQLインジェクションやバッファオーバーフローなどの攻撃を防ぐのに役立ちます。
エラーハンドリング：エラーと例外をセキュアに処理します。たとえば、セキュアな方法でログに記録し、攻撃者に機密情報を開示しないようにします。
認証と承認：強力な認証および承認メカニズムを実装して、機密データやリソースにアクセスできるのは認可されたユーザーだけであることを確認します。
暗号化：HTTPSや暗号化などのデータの伝送と静止の保護に暗号化関数とプロトコルを使用します。特定の製品セキュリティレベルの期待されるレベルは、ゴールデンパス/ペイブドロードのドキュメントをレビューすることで通常見つけることができます。
最小特権：コードを書く際に最小特権の原則を使用し、コードとその実行されるシステムに、それらの機能を実行するために必要な最小限のアクセス権が与えられるようにします。
セキュアなメモリ管理：ゴールデンパス/ペイブドロードのドキュメントで推奨される高レベル言語を使用するか、メモリ関連の脆弱性（バッファオーバーフローや使用後のフリーなど）を防ぐためにメモリを適切に管理します。
ハードコードされたシークレットの回避：パスワードや暗号化キーなどのハードコードされたシークレットをコードに含めず、セキュアなストレージに保存します。
セキュリティテスト：開発中および展開直前にソフトウェアをセキュリティ脆弱性のためにテストします。
コードの監査とレビュー：セキュリティの脆弱性を定期的に監査およびレビューします。自動化ツールを使用するか、サードパーティにコードをレビューしてもらうことにより、セキュリティの脆弱性を確認します。
最新の情報を維持する：ソフトウェアができるだけセキュリティが確保されているように、最新のセキュリティベストプラクティスと脆弱性修正でコードを最新の状態に保ちます。
アプリケーションの各ティアにも確率性チェックを統合し、スレットモデリングで発見されたすべての脅威が組織にとって受け入れ可能なリスクレベルまで緩和されたことを検証するためにユニットおよび統合テストを書くことを確認してください。それを使用して、アプリケーションの各ティアの使用ケースと悪用ケースをまとめます。

構成
アプリケーションを安全に構築することは、安全な構成が行われない場合、あまりにも簡単に元に戻される可能性があります。少なくとも、以下の点を確認する必要があります：
最小特権の原則を念頭に置く：システムコンポーネントとユーザーのアクセスおよび権限を、それらのタスクを実行するために必要な最小限に制限します。
深層防御を思い出す：広範囲の脅威に対処するために、複数のセキュリティコントロールのレイヤーを実装します。
デフォルトでセキュア：システムおよびソフトウェアをデフォルトでセキュアに構成し、手動でのセットアップや構成が最小限に抑えられるようにします。
セキュアデータ：個人情報や財務データなどの機密データを、転送時および静止時に暗号化して保護します。データを保護することは、それが正しくバックアップされており、望ましい製品セキュリティレベルのデータ保持が正しく設定されていることも意味します。
構成が安全に失敗するように計画する：システムをセキュアな状態で失敗するように設計し、機能しない場合に脆弱性を露出しないようにします。
常にセキュアな通信を使用する：盗聴や改ざんに対抗するために、通信にはHTTPSなどのセキュアプロトコルを使用します。
定期的な更新を行う - またはメンテナンスされたイメージを活用する：ソフトウェア、Dockerイメージ、およびベースのオペレーティングシステムを最新のセキュリティパッチで更新することは、セキュアなシステムを維持するための重要な部分です。
練習済みのセキュリティインシデント対応計画を持つ：セキュリティインシデントに対応するための計画を持つことは、成功した攻撃によって引き起こされる被害を最小限に抑えるために不可欠であり、製品サポートモデルの重要な部分です。

セキュアな構成を確実にする方法の詳細については、「Infrastructure as Code Security Cheat Sheet」で見つけることができます。